% arara: pdflatex
% arara: pdflatex
% arara: pdflatex

% options:
% thesis=B bachelor's thesis
% thesis=M master's thesis
% czech thesis in Czech language
% slovak thesis in Slovak language
% english thesis in English language
% hidelinks remove colour boxes around hyperlinks

\documentclass[thesis=B,czech]{FITthesis}[2019/12/23]

\usepackage[cp1250]{inputenc} % LaTeX source encoded as Windows-1250

% \usepackage{amsmath} %advanced maths
% \usepackage{amssymb} %additional math symbols

\usepackage{dirtree} %directory tree visualisation

% % list of acronyms
% \usepackage[acronym,nonumberlist,toc,numberedsection=autolabel]{glossaries}
% \iflanguage{czech}{\renewcommand*{\acronymname}{Seznam pou{\v z}it{\' y}ch zkratek}}{}
% \makeglossaries

\newcommand{\tg}{\mathop{\mathrm{tg}}} %cesky tangens
\newcommand{\cotg}{\mathop{\mathrm{cotg}}} %cesky cotangens

% % % % % % % % % % % % % % % % % % % % % % % % % % % % % % 
% ODTUD DAL VSE ZMENTE
% % % % % % % % % % % % % % % % % % % % % % % % % % % % % % 

\department{Katedra softwarového inženýrství}
\title{Konfiguraèní management mikroslužeb}
\authorGN{Josef} %(køestní) jméno (jména) autora
\authorFN{Vávra} %pøíjmení autora
\authorWithDegrees{Josef Vávra} %jméno autora vèetnì souèasných akademických titulù
\author{Josef Vávra} %jméno autora bez akademických titulù
\supervisor{Martin Komárek}
\acknowledgements{Doplòte, máte-li komu a za co dìkovat. V~opaèném pøípadì úplnì odstraòte tento pøíkaz.}
\abstractCS{V~nìkolika vìtách shròte obsah a pøínos této práce v~èeštinì. Po pøeètení abstraktu by se ètenáø mìl mít ètenáø dost informací pro rozhodnutí, zda chce Vaši práci èíst.}
\abstractEN{Sem doplòte ekvivalent abstraktu Vaší práce v~angliètinì.}
\placeForDeclarationOfAuthenticity{V~Praze}
\declarationOfAuthenticityOption{4} %volba Prohlášení (èíslo 1-6)
\keywordsCS{Nahraïte seznamem klíèových slov v èeštinì oddìlených èárkou.}
\keywordsEN{Nahraïte seznamem klíèových slov v angliètinì oddìlených èárkou.}
% \website{http://site.example/thesis} %volitelná URL práce, objeví se v tiráži - úplnì odstraòte, nemáte-li URL práce

\begin{document}

% \newacronym{CVUT}{{\v C}VUT}{{\v C}esk{\' e} vysok{\' e} u{\v c}en{\' i} technick{\' e} v Praze}
% \newacronym{FIT}{FIT}{Fakulta informa{\v c}n{\' i}ch technologi{\' i}}

\begin{introduction}

Podle The twelve-factor app\cite{12-factor-config} je konfigurace aplikace vše co se liší mezi prostøedími (testovací, produkèní, vývojové prostøedí, atd.). To mohou být pøístupové údaje k externím službám, pøihlašovací údaje k databázím, nebo tøeba kanonické názvy hostitelù.

Konfiguraci je možné ukládat jako konstanty v kódu. Je to však vysoce nežádoucí. Jedná se o porušení twelve-factor metodiky. Tato metodika vyžaduje oddìlení konfigurace od kódu. I když kód zùstává stejný, konfigurace se vìtšinou mezi nasazeními výraznì odlišuje.

Každá aplikace má alespoò dvì prostøedí: Testovací a produkèní. Každá taková aplikace má pak zhruba ètyøi až pìt konfiguraèních parametrù. Pokud tyto dvì èísla vynásobíme, máme už deset parametrù. Toto èíslo roste rychle, podle toho jak se rozšiøuje naše aplikace. Roste ještì rychleji podle toho, jak se zvyšuje poèet prostøedí (viz. èlánek o gitOps\cite{uvod-do-gitops})

Konfiguracím je tedy nutné vìnovat pozornost. Podle èlánku\cite{redhat-what-cm} od RedHat jsou nesprávné konfigurace hlavní pøíèinou bezpeènostních incidentù v kontejnerizovaném Kubernetes-prostøedí. Nesprávné konfigurace vedou ke slabému výkonu, nekonzistenci, nefunkènosti a mají negativní dopad na business logiku a bezpeènost. Pokud jsou nezdokumentované zmìny provádìny napøíè mnoha systémy a aplikacemi, zvyšuje se riziko nestability a prostojùm. Manuální øešení této problematiky vyžaduje identifikaci systémù, které potøebují pozornost. Poté rozhodnutí, které kroky je potøeba podniknout k napravení problému a rozhodnout které úkony mají prioritu. Validace správného výsledku je v komplexních systémech pøíliš komplikovaná. Bez dokumentace krokù, které byly provedeny jsou navíc systémoví administrátoøi a softwaroví vývojáøi neschopni rozlišit, který server byl zaktualizován a jaké verze aplikací se kde nacházejí. 

Tomu se dá však zabránit. Øešením tohoto problému je konfiguraèní management. Ten umožòuje definovat nastavení systému. Cílem je udržet aplikaci ve stavu, který je sledovatelný a v funkèní. Proè je konfiguraèní management dùležitý, je rozebráno ve èlánku\cite{atlassian-why-cm-imp} od Atlassian. Konfiguraèní management podle textu pomáhá vývojáøským týmùm vytvoøit robustní a stabilní systém, který automaticky øídí a monitoruje akutalizace konfiguraèních položek. Jako pøíklad uvádí mikroservisní arhitekturu. Každá mikroslužba má vlastní konfiguraèní parametry, které jsou použity pøi incializaci. Jde jak o hardwarové požadavky jako je CPU nebo RAM, tak softwarové specifikace jako jsou hesla a endpointy. Konfiguraèní management tedy umožòuje vytvoøit, aktualizovat a monitorovat jediný "zdroj pravdy" tím, že jsou veškeré informace na jednom místì.

Bohužel konfiguraèní management není žádná zázraèná technika, která zadarmo a v krátkém èase pøetvaruje libovolný systém na bezvýpadkový produkt, který má bezproblémový release a každý proces, který se odehraje je striktnì kontrolován. Implementaci je nutné vìnovat prostøedky jak na zaèátku vývoje tak i v jejím prùbìhu. Jak je uvedeno v èlánku\cite{upguard-cm-cost} od UpGuard je vyžadující zaškolit souèasné zamìstnance v oblasti konfiguraèních procesù a vyèlenit nìkoho na stanovení zmínìných provesù a nastavení potøebných nástrojù. 

V teoretické èásti této práci popíšu best practices konfiguraèního managementu v cloud native prostøedí a jak pøistupovat ke konfiguraèním parametrùm v aplikacích. Co jsou secrets a jaké jsou možnosti šifrování. Jedna z kapitol se bude vìnovat problému nìkolika prostøedí, které v rámci práce vytvoøím. Paralelnì k této práci vytvoøím aplikaci, podle mikroslužební architektury definovanou zde\cite{microservices-io}. Cílem této aplikace je možnost demonstrovat migraci mezi vytvoøenými prostøedími na konkrétním pøíkladu. Celý proces bude v jedné kapitole zdokumentován. K této práci pøistupuji jako k Proof of concept\cite{wiki-poc}. Ètenáøe provedu postupem od implementace aplikace až po její úspìšné nasazení a údržbu.

\end{introduction}

\chapter{Best practices konfiguraèního managementu v cloud native prostøedí}

Jako v každé jiné softwarové disciplínì i v SCM je nutné dodržovat urèité postupy, neboli best practices. Podle textu s názvem BEST-PRACTICE RECOMMENDATIONS CONFIGURATION MANAGEMENT od Sun Services\cite{best-practices-by-sun} jsou jednìmi z hlavních doporuèení tyto: udržování kontroly, Sledování správných konfiguraèních položek a vytvoøení repozitáøe. 

Pod pojmem udržování kontroly je myšleno, že je nutné peèlivì hlídat konfiguraèní položky a udržovat systém aktuální. V momentì, kdy je systém zastaralý, pøestává být užiteèný

Jak už bylo zmínìno v pøedchozím bodì, je další doporuèení sledování správných konfiguraèních položek. Pokud pracujeme s komplexním systémem, je velice pravdìpodobné, že pøi potøebì mít kontrolu nad každým detailem, budeme zahlceni. Je proto dùležité, sledovat ty položky které je potøeba a u kterých je to možné.

Vytvoøení repozitáøe je nezbytné pro správný chod celého systému. Pokud nemáme kam ukládat informace o konfiguraèních položkách, nebude systém udržitlený.







\chapter{Cíl práce}

\chapter{Analýza a návrh}

\chapter{Realizace}

\begin{conclusion}
	%sem napište závìr Vaší práce
\end{conclusion}

\bibliographystyle{csn690}
\bibliography{cm_bibliography}

\appendix

\chapter{Seznam použitých zkratek}
% \printglossaries
\begin{description}
	\item[GUI] Graphical user interface
	\item[XML] Extensible markup language
\end{description}


% % % % % % % % % % % % % % % % % % % % % % % % % % % % 
% % Tuto kapitolu z výsledné práce ODSTRAÒTE.
% % % % % % % % % % % % % % % % % % % % % % % % % % % % 
% 
% \chapter{Návod k~použití této šablony}
% 
% Tento dokument slouží jako základ pro napsání závìreèné práce na Fakultì informaèních technologií ÈVUT v~Praze.
% 
% \section{Výbìr základu}
% 
% Vyberte si šablonu podle druhu práce (bakaláøská, diplomová), jazyka (èeština, angliètina) a kódování (ASCII, \mbox{UTF-8}, \mbox{ISO-8859-2} neboli latin2 a nebo \mbox{Windows-1250}). 
% 
% V~èeské variantì naleznete šablony v~souborech pojmenovaných ve formátu práce\_kódování.tex. Typ mùže být:
% \begin{description}
% 	\item[BP] bakaláøská práce,
% 	\item[DP] diplomová (magisterská) práce.
% \end{description}
% Kódování, ve kterém chcete psát, mùže být:
% \begin{description}
% 	\item[UTF-8] kódování Unicode,
% 	\item[ISO-8859-2] latin2,
% 	\item[Windows-1250] znaková sada 1250 Windows.
% \end{description}
% V~pøípadì nejistoty ohlednì kódování doporuèujeme následující postup:
% \begin{enumerate}
% 	\item Otevøete šablony pro kódování UTF-8 v~editoru prostého textu, který chcete pro psaní práce použít -- pokud mùžete texty s~diakritikou normálnì pøeèíst, použijte tuto šablonu.
% 	\item V~opaèném pøípadì postupujte dále podle toho, jaký operaèní systém používáte:
% 	\begin{itemize}
% 		\item v~pøípadì Windows použijte šablonu pro kódování \mbox{Windows-1250},
% 		\item jinak zkuste použít šablonu pro kódování \mbox{ISO-8859-2}.
% 	\end{itemize}
% \end{enumerate}
% 
% 
% V~anglické variantì jsou šablony pojmenované podle typu práce, možnosti jsou:
% \begin{description}
% 	\item[bachelors] bakaláøská práce,
% 	\item[masters] diplomová (magisterská) práce.
% \end{description}
% 
% \section{Použití šablony}
% 
% Šablona je urèena pro zpracování systémem \LaTeXe{}. Text je možné psát v~textovém editoru jako prostý text, lze však také využít specializovaný editor pro \LaTeX{}, napø. Kile.
% 
% Pro získání tisknutelného výstupu z~takto vytvoøeného souboru použijte pøíkaz \verb|pdflatex|, kterému pøedáte cestu k~souboru jako parametr. Vhodný editor pro \LaTeX{} toto udìlá za Vás. \verb|pdfcslatex| ani \verb|cslatex| \emph{nebudou} s~tìmito šablonami fungovat.
% 
% Více informací o~použití systému \LaTeX{} najdete napø. v~\cite{wikilatex}.
% 
% \subsection{Typografie}
% 
% Pøi psaní dodržujte typografické konvence zvoleného jazyka. Èeské \uv{uvozovky} zapisujte použitím pøíkazu \verb|\uv|, kterému v~parametru pøedáte text, jenž má být v~uvozovkách. Anglické otevírací uvozovky se v~\LaTeX{}u zadávají jako dva zpìtné apostrofy, uzavírací uvozovky jako dva apostrofy. Èasto chybnì uvádìný symbol "{} (palce) nemá s~uvozovkami nic spoleèného.
% 
% Dále je tøeba zabránit zalomení øádky mezi nìkterými slovy, v~èeštinì napø. za jednopísmennými pøedložkami a spojkami (vyjma \uv{a}). To docílíte vložením pružné nezalomitelné mezery -- znakem \texttt{\textasciitilde}. V~tomto pøípadì to není tøeba dìlat ruènì, lze použít program \verb|vlna|.
% 
% Více o~typografii viz \cite{kobltypo}.
% 
% \subsection{Obrázky}
% 
% Pro umožnìní vkládání obrázkù je vhodné použít balíèek \verb|graphicx|, samotné vložení se provede pøíkazem \verb|\includegraphics|. Takto je možné vkládat obrázky ve formátu PDF, PNG a JPEG jestliže používáte pdf\LaTeX{} nebo ve formátu EPS jestliže používáte \LaTeX{}. Doporuèujeme preferovat vektorové obrázky pøed rastrovými (vyjma fotografií).
% 
% \subsubsection{Získání vhodného formátu}
% 
% Pro získání vektorových formátù PDF nebo EPS z~jiných lze použít nìkterý z~vektorových grafických editorù. Pro pøevod rastrového obrázku na vektorový lze použít rasterizaci, kterou mnohé editory zvládají (napø. Inkscape). Pro konverze lze použít též nástroje pro dávkové zpracování bìžnì dodávané s~\LaTeX{}em, napø. \verb|epstopdf|.
% 
% \subsubsection{Plovoucí prostøedí}
% 
% Pøíkazem \verb|\includegraphics| lze obrázky vkládat pøímo, doporuèujeme však použít plovoucí prostøedí, konkrétnì \verb|figure|. Napøíklad obrázek \ref{fig:float} byl vložen tímto zpùsobem. Vùbec pøitom nevadí, když je obrázek umístìn jinde, než bylo pùvodnì zamýšleno -- je tomu tak hlavnì kvùli dodržení typografických konvencí. Namísto vynucování konkrétní pozice obrázku doporuèujeme používat odkazování z~textu (dvojice pøíkazù \verb|\label| a \verb|\ref|).
% 
% \begin{figure}\centering
% 	\includegraphics[width=0.5\textwidth, angle=30]{cvut-logo-bw}
% 	\caption[Pøíklad obrázku]{Ukázkový obrázek v~plovoucím prostøedí}\label{fig:float}
% \end{figure}
% 
% \subsubsection{Verze obrázkù}
% 
% % Gnuplot BW i barevnì
% Mùže se hodit mít více verzí stejného obrázku, napø. pro barevný èi èernobílý tisk a nebo pro prezentaci. S~pomocí nìkterých nástrojù na generování grafiky je to snadné.
% 
% Máte-li napøíklad graf vytvoøený v programu Gnuplot, mùžete jeho èernobílou variantu (viz obr. \ref{fig:gnuplot-bw}) vytvoøit parametrem \verb|monochrome dashed| pøíkazu \verb|set term|. Barevnou variantu (viz obr. \ref{fig:gnuplot-col}) vhodnou na prezentace lze vytvoøit parametrem \verb|colour solid|.
% 
% \begin{figure}\centering
% 	\includegraphics{gnuplot-bw}
% 	\caption{Èernobílá varianta obrázku generovaného programem Gnuplot}\label{fig:gnuplot-bw}
% \end{figure}
% 
% \begin{figure}\centering
% 	\includegraphics{gnuplot-col}
% 	\caption{Barevná varianta obrázku generovaného programem Gnuplot}\label{fig:gnuplot-col}
% \end{figure}
% 
% 
% \subsection{Tabulky}
% 
% Tabulky lze zadávat rùznì, napø. v~prostøedí \verb|tabular|, avšak pro jejich vkládání platí to samé, co pro obrázky -- použijte plovoucí prostøedí, v~tomto pøípadì \verb|table|. Napøíklad tabulka \ref{tab:matematika} byla vložena tímto zpùsobem.
% 
% \begin{table}\centering
% 	\caption[Pøíklad tabulky]{Zadávání matematiky}\label{tab:matematika}
% 	\begin{tabular}{|l|l|c|c|}\hline
% 		Typ		& Prostøedí		& \LaTeX{}ovská zkratka	& \TeX{}ovská zkratka	\tabularnewline \hline \hline
% 		Text		& \verb|math|		& \verb|\(...\)|	& \verb|$...$|		\tabularnewline \hline
% 		Displayed	& \verb|displaymath|	& \verb|\[...\]|	& \verb|$$...$$|	\tabularnewline \hline
% 	\end{tabular}
% \end{table}
% 
% % % % % % % % % % % % % % % % % % % % % % % % % % % % 

\chapter{Obsah pøiloženého CD}

%upravte podle skutecnosti

\begin{figure}
	\dirtree{%
		.1 readme.txt\DTcomment{struèný popis obsahu CD}.
		.1 exe\DTcomment{adresáø se spustitelnou formou implementace}.
		.1 src.
		.2 impl\DTcomment{zdrojové kódy implementace}.
		.2 thesis\DTcomment{zdrojová forma práce ve formátu \LaTeX{}}.
		.1 text\DTcomment{text práce}.
		.2 thesis.pdf\DTcomment{text práce ve formátu PDF}.
		.2 thesis.ps\DTcomment{text práce ve formátu PS}.
	}
\end{figure}

\end{document}
